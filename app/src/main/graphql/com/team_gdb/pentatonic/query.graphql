# 아이디와 닉네임이 유효한지 검사 요청하는 쿼리
query CheckIDAndUsernameQuery($isValidUsernameUsername: Username!, $isValidIdId: Id!) {
    isValidId(id: $isValidIdId)
    isValidUsername(username: $isValidUsernameUsername)
}

# 사용자 정보 가져오는 쿼리
query GetUserInfoQuery($getUserInfoUserId: Id!) {
    getUserInfo(userId: $getUserInfoUserId) {
        id
        username
        phoneNumber
        profileURI
        prime
        introduce
        type
        band {
            likeCount
            backGroundURI
            createDate
            introduce
            name
            creatorId
            bandId
            songId
        }
        library {
            position
            date
            name
            duration
            coverId
            coverURI
            coverBy {
                id
            }
            songId
            song {
                songId
                name
                songURI
                songImg
                genre
                artist
                album
                weeklyChallenge
                duration
                level
                releaseDate
            }
        }
        followerCount
        followingCount
        followingStatus
    }
}

# 사용자 라이브러리 정보 가져오는 쿼리 (위 쿼리와 같은 쿼리를 호출하지만, 경량화된 동작을 함)
query GetUserLibraryQuery($getUserInfoUserId: Id!) {
    getUserInfo(userId: $getUserInfoUserId) {
        library {
            position
            date
            name
            duration
            coverId
            coverURI
            coverBy {
                id
            }
            songId
            song {
                songId
                name
                songURI
                songImg
                genre
                artist
                album
                weeklyChallenge
                duration
                level
                releaseDate
            }
        }
    }
}

query GetCoverQuery($queryBandFilter: QueryBandInput!) {
    queryBand(filter: $queryBandFilter){
        name
        backGroundURI
        bandId
        isSoloBand
        likeCount
        session {
            position
            maxMember
            cover {
                songId
                coverBy {
                    id
                }
                coverURI
                coverId
                duration
                name
                date
                position
                song {
                    songId
                    name
                    songURI
                    songImg
                    genre
                    artist
                    album
                    weeklyChallenge
                    duration
                    level
                    releaseDate
                }
            }
        }
        song {
            name
            artist
        }
        introduce
    }
}


# 밴드 고유 ID 를 기반으로 밴드 커버의 정보를 가져오는 쿼리
query GetBandCoverInfoQuery($getBandBandId: ObjectID!) {
    getBand(bandId: $getBandBandId) {
        bandId
        song {
            artist
            songId
            name
            songURI
            songImg
            genre
            album
            weeklyChallenge
            duration
            level
            releaseDate
        }
        name
        introduce
        isSoloBand
        creator {
            id
            username
            profileURI
            prime
            type
            followerCount
            followingCount
        }
        backGroundURI
        createDate
        session {
            position
            maxMember
            cover {
                songId
                coverBy {
                    username
                    id
                    profileURI
                    prime
                    type
                    followerCount
                    followingCount
                }
                coverURI
                coverId
                duration
                name
                date
                position
            }
        }
        likeCount
        likeStatus
        comment {
            bandId
            user {
                followingCount
                followerCount
                prime
                type
                profileURI
                username
                id
            }
            commentId
            content
            createdAt
        }
    }
}

# 떠오르는 밴드 커버 리스트를 가져오는 쿼리
query GetTrendBandsQuery {
    getTrendBands {
        bandId
        song {
            name
            artist
        }
        name
        backGroundURI
        isSoloBand
        session {
            position
            cover {
                name
                position
            }
        }
        likeCount
        likeStatus
    }
}

# 밴드 커버의 댓글 가져오는 쿼리
query GetCoverCommentQuery($getCommentsBandId: ObjectID!) {
    getComments(bandId: $getCommentsBandId) {
        bandId
        user {
            id
            username
            profileURI
            prime
            type
            followerCount
            followingCount
        }
        content
        createdAt
        commentId
    }
}

query GetSongQuery($querySongFilter: QuerySongInput!) {
    querySong(filter: $querySongFilter) {
        songId
        name
        songURI
        songImg
        genre
        artist
        album
        weeklyChallenge
        duration
        level
        releaseDate
    }
}