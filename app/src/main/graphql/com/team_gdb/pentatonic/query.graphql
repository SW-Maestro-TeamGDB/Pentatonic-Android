# 아이디와 닉네임이 유효한지 검사 요청하는 쿼리
query CheckIDAndUsernameQuery($isValidUsernameUsername: Username!, $isValidIdId: Id!) {
    isValidId(id: $isValidIdId)
    isValidUsername(username: $isValidUsernameUsername)
}

# 사용자 정보 가져오는 쿼리
query GetUserInfoQuery($getUserInfoUserId: Id!) {
    getUserInfo(userId: $getUserInfoUserId) {
        id
        username
        phoneNumber
        profileURI
        prime
        introduce
        type
        band {
            bandId
            song {
                name
                artist
            }
            name
            backGroundURI
            createDate
            isSoloBand
            session {
                position
                maxMember
                cover {
                    songId
                }
            }
            viewCount
            likeCount
            likeStatus
        }
        library {
            position
            date
            name
            duration
            coverId
            coverURI
            coverBy {
                id
            }
            songId
            song {
                songId
                name
                songURI
                songImg
                genre
                artist
                album
                weeklyChallenge
                duration
                level
                releaseDate
            }
        }
        position {
            position
            likeCount
        }
        followerCount
        followingCount
        followingStatus
    }
}

# 사용자 라이브러리 정보 가져오는 쿼리 (위 쿼리와 같은 쿼리를 호출하지만, 경량화된 동작을 함)
query GetUserLibraryQuery($getUserInfoUserId: Id!) {
    getUserInfo(userId: $getUserInfoUserId) {
        library {
            position
            date
            name
            duration
            coverId
            coverURI
            coverBy {
                id
            }
            songId
            song {
                songId
                name
                songURI
                songImg
                genre
                artist
                album
                weeklyChallenge
                duration
                level
                releaseDate
            }
        }
    }
}

# 밴드 고유 ID 를 기반으로 밴드 커버의 정보를 가져오는 쿼리
query GetBandCoverInfoQuery($getBandBandId: ObjectID!) {
    getBand(bandId: $getBandBandId) {
        bandId
        song {
            artist
            songId
            name
            songURI
            songImg
            genre
            album
            weeklyChallenge
            duration
            level
            releaseDate
        }
        name
        introduce
        isSoloBand
        creator {
            id
            username
            introduce
            profileURI
            prime
            type
            followerCount
            followingCount
        }
        backGroundURI
        createDate
        session {
            position
            maxMember
            cover {
                songId
                coverBy {
                    username
                    id
                    profileURI
                    prime
                    type
                    followerCount
                    followingCount
                }
                coverURI
                coverId
                duration
                name
                date
                position
            }
        }
        viewCount
        likeCount
        likeStatus
    }
}

# 떠오르는 밴드 커버 리스트를 가져오는 쿼리
query GetTrendBandsQuery {
    getTrendBands {
        bandId
        song {
            name
            artist
        }
        name
        introduce
        backGroundURI
        isSoloBand
        session {
            position
            maxMember
            cover {
                name
                position
            }
        }
        viewCount
        likeCount
        likeStatus
    }
}

# 밴드 커버의 댓글 가져오는 쿼리
query GetCoverCommentQuery($getCommentsBandId: ObjectID!) {
    getComments(bandId: $getCommentsBandId) {
        bandId
        user {
            id
            username
            profileURI
            prime
            type
            followerCount
            followingCount
        }
        content
        createdAt
        commentId
    }
}

query GetSongListQuery($querySongFilter: QuerySongInput!) {
    querySong(filter: $querySongFilter) {
        songId
        name
        songURI
        songImg
        genre
        artist
        album
        weeklyChallenge
        duration
        level
        releaseDate
    }
}

query GetBandListQuery($queryBandsFilter: QueryBandInput!, $queryBandsFirst: Int!, $queryBandsAfter: String) {
    queryBand(filter: $queryBandsFilter, first: $queryBandsFirst, after: $queryBandsAfter) {
        bands {
            bandId
            song {
                songId
                name
                songURI
                songImg
                genre
                artist
                album
                weeklyChallenge
                duration
                level
                releaseDate
            }
            name
            introduce
            backGroundURI
            createDate
            isSoloBand
            viewCount
            likeCount
            likeStatus
            session {
                position
                maxMember
                cover {
                    position
                }
            }
        }
    }
}

# 위클리 챌린지 곡 정보 쿼리 : 라운지 페이지에서 위클리 챌린지 곡의 정보를 최초로 얻을 때 사용
query GetWeeklyChallengeSongInfoQuery($querySongFilter: QuerySongInput!) {
    querySong(filter: $querySongFilter) {
        songId
        name
        songURI
        songImg
        genre
        artist
        album
        weeklyChallenge
        duration
        level
        releaseDate
    }
}

# 특정 곡의 정보 쿼리  e.g. 위클리챌린지 곡에 대한 정보 (해당 곡으로 생성한 커버 정보 포함)
query GetSongInfoQuery($getSongSongId: ObjectID!) {
    getSong(songId: $getSongSongId) {
        songId
        name
        songURI
        songImg
        genre
        artist
        album
        weeklyChallenge
        duration
        level
        releaseDate
        band {
            bandId
            song {
                songId
                name
                artist
            }
            name
            introduce
            creator {
                id
                username
            }
            backGroundURI
            createDate
            session {
                position
                maxMember
                cover {
                    coverURI
                    coverId
                }
            }
            isSoloBand
            viewCount
            likeCount
        }
    }
}


# 아티스트 (유저) 랭킹 가져오는 쿼리
query GetRankedUserListQuery {
    getRankedUser {
        id
        username
        profileURI
        introduce
        prime
        position {
            position
            likeCount
        }
        followerCount
        followingCount
        followingStatus
    }
}

# 커버 (밴드, 솔로 포함) 랭킹 가져오는 쿼리
query GetRankedBandListQuery {
    getRankedBands {
        bandId
        song {
            name
            artist
        }
        introduce
        name
        likeCount
        viewCount
        isSoloBand
        isFreeBand
        backGroundURI
    }
}